# 前端api文档

## 注意！！！以下重要信息：





## 一、登录前连接服务器api

```
http://localhost:5000/register
```



## 二、登录界面api

### 1. 用户注册：POST /register

## 请求说明

- 该 API 用于用户注册，用户需提供 **用户名、邮箱、密码**。

- 服务器检查用户名是否已存在，若不存在，则创建新用户。

#### 请求参数：

| 参数名     | 类型  | 必填 | 说明               |
| ---------- | ----- | ---- | ------------------ |
| `username` | `str` | ✅    | 用户名（唯一）     |
| `email`    | `str` | ✅    | 邮箱地址           |
| `password` | `str` | ✅    | 密码（应加密存储） |

## 请求示例：

```python
{
  "username": "newuser",
  "email": "newuser@example.com",
  "password": "mypassword"
}

```

## 响应

#####  **注册成功**

- **状态码:** `200 OK`
- **响应体**

```
json复制编辑{
  "message": "注册成功",
  "username": "newuser"
}
```

**注册失败（用户名已存在）**

- **状态码:** `400 Bad Request`
- **响应体**

```
json复制编辑{
  "detail": "用户名已存在"
}
```



### 2. 用户登录：POST /login

###  **请求说明**

- 该 API 用于用户登录，用户需提供 **用户名和密码**。
- 服务器检查用户名是否存在，且密码是否匹配。

### **📌 请求参数**

| 参数名     | 类型  | 必填 | 说明                 |
| ---------- | ----- | ---- | -------------------- |
| `username` | `str` | ✅    | 用户名（必须已注册） |
| `password` | `str` | ✅    | 用户密码             |

### **📌 请求示例**

```
json复制编辑{
  "username": "testuser",
  "password": "mypassword"
}
```

### **📌 响应**

#### ✅ **登录成功**

- **状态码:** `200 OK`
- **响应体**

```
json复制编辑{
  "message": "登录成功",
  "token": "mock-token"
}
```

#### ❌ **登录失败（用户名或密码错误）**

- **状态码:** `401 Unauthorized`
- **响应体**

```
json复制编辑{
  "detail": "用户名或密码错误"
}
```





## 二、运动记录 API

### 1. 保存运动记录：POST `/saveMission`

#### 📌 请求说明

- 该 API 用于 **保存运动记录**，用户需要提供 **文件名和内容**。
- 服务器会在 `./TrainMission/posts/` 目录下存储 `.md` 记录文件。

#### 📌 请求参数

| 参数名     | 类型  | 必填 | 说明         |
| ---------- | ----- | ---- | ------------ |
| `fileName` | `str` | ✅    | 记录的文件名 |
| `content`  | `str` | ✅    | 记录的内容   |

#### 📌 请求示例

```
{
  "fileName": "2025_03_19T14_13_15_951Z.md",
  "content": "---\n运动记录\n---\n- **类型**: 跑步\n- **时长**: 30分钟"
}
```

#### 📌 响应

✅ **保存成功**

- **状态码:** `200 OK`
- **响应体**

```
{
  "message": "文件保存成功",
  "filePath": "./TrainMission/posts/2025_03_19T14_13_15_951Z.md",
  "status": "success"
}
```

❌ **保存失败**

- **状态码:** `500 Internal Server Error`
- **响应体**

```
{
  "detail": {
    "message": "文件保存失败",
    "error": "具体错误信息",
    "status": "failure"
  }
}
```